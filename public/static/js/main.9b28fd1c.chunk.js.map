{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","components/Card.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmationPopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logoPath","alt","CurrentUserContext","React","createContext","Main","props","currentUser","useContext","onClick","onEditAvatar","avatar","name","type","onEditProfile","about","onAddPlace","cards","Footer","ImagePopup","card","link","onClose","api","config","this","_url","url","_headers","headers","res","ok","json","Promise","reject","fetch","then","_checkServerResponse","data","method","body","JSON","stringify","cardId","isLiked","saveLike","deleteLike","authorization","Card","onCardLike","onCardClick","onCardDelete","isOwn","owner","_id","cardDeleteButtonClassName","likes","some","i","cardLikeButtonClassName","length","PopupWithForm","isOpen","title","noValidate","onSubmit","children","btnValue","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","id","placeholder","minLength","maxLength","required","value","onChange","target","EditAvatarPopup","onUpdateAvatar","inputLink","useRef","current","ref","AddPlacePopup","cardTitle","cardLink","ConfirmationPopup","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","setCards","selectedCard","setSelectedCard","setCurrentUser","loading","setLoading","loadingPlace","setLoadingPlace","closeAllPopups","handleCardClick","handleCardLike","changeLikeCardStatus","newCard","newCards","map","c","catch","err","console","log","handleCardDelete","deleteCard","filter","all","getUserData","getInitialCards","userInfo","initialCards","handleEscClose","evt","key","document","addEventListener","removeEventListener","Provider","userAvatar","saveUserData","inputValues","saveNewCard","saveAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"8MAAe,MAA0B,iCCU1BA,MARf,WACE,OACE,wBAAQC,UAAU,sBAAlB,SACE,qBAAKA,UAAU,eAAeC,IAAKC,EAAUC,IAAI,sCCH1CC,EAAqBC,IAAMC,gBCyBzBC,MAxBf,SAAcC,GAEZ,IAAMC,EAAcJ,IAAMK,WAAWN,GAErC,OACE,iCACE,0BACEJ,UAAU,wBADZ,UAEE,sBAAKA,UAAU,qBAAf,UACE,qBAAKA,UAAU,0BAA0BW,QAASH,EAAMI,eACxD,qBAAKZ,UAAU,kBAAkBC,IAAKQ,EAAYI,OAAQV,IAAI,4GAC9D,sBAAKH,UAAU,gBAAf,UACE,oBAAIA,UAAU,gBAAd,SAA+BS,EAAYK,OAC3C,wBAAQC,KAAK,SAASf,UAAU,uBAAuBW,QAASH,EAAMQ,gBACtE,mBAAGhB,UAAU,sBAAb,SAAoCS,EAAYQ,cAGpD,wBAAQF,KAAK,SAASf,UAAU,sBAAsBW,QAASH,EAAMU,gBAEvE,oBAAIlB,UAAU,0BAAd,SAAyCQ,EAAMW,YCdtCC,MARf,WACE,OACE,wBAAQpB,UAAU,sBAAlB,SACE,mBAAGA,UAAU,oBAAb,uCCSSqB,MAZf,SAAoBb,GAClB,OACE,qBAAKR,UAAS,sBAAiBQ,EAAMc,KAAKC,KAAO,eAAiB,IAAMZ,QAASH,EAAMgB,QAAvF,SACE,sBAAKxB,UAAU,yBAAf,UACE,qBAAKA,UAAU,uBAAuBC,IAAKO,EAAMc,KAAKC,KAAMpB,IAAKK,EAAMc,KAAKR,OAC5E,mBAAGd,UAAU,qBAAb,SAAmCQ,EAAMc,KAAKR,OAC9C,wBAAQd,UAAU,0CAA0Ce,KAAK,SAASJ,QAASH,EAAMgB,gB,cC+FlFC,EARH,I,WA5FV,WAAYC,GAAS,oBACnBC,KAAKC,KAAOF,EAAOG,IACnBF,KAAKG,SAAWJ,EAAOK,Q,iEAGJC,GACnB,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAO,gB,wCAKtB,OAAOC,MAAM,GAAD,OAAIV,KAAKC,KAAT,UAAuB,CACjCG,QAASJ,KAAKG,WAEfQ,KAAKX,KAAKY,wB,kCAIDC,GACV,OAAOH,MAAM,GAAD,OAAIV,KAAKC,KAAT,UAAuB,CACjCa,OAAQ,OACRV,QAASJ,KAAKG,SACdY,KAAMC,KAAKC,UAAUJ,KAEtBF,KAAKX,KAAKY,wB,iCAIFM,GACT,OAAOR,MAAM,GAAD,OAAIV,KAAKC,KAAT,kBAAuBiB,GAAU,CAC3CJ,OAAQ,SACRV,QAASJ,KAAKG,WAEfQ,KAAKX,KAAKY,wB,oCAKX,OAAOF,MAAM,GAAD,OAAIV,KAAKC,KAAT,aAA0B,CACpCG,QAASJ,KAAKG,WAEfQ,KAAKX,KAAKY,wB,mCAIAC,GACX,OAAOH,MAAM,GAAD,OAAIV,KAAKC,KAAT,aAA0B,CACpCa,OAAQ,QACRV,QAASJ,KAAKG,SACdY,KAAMC,KAAKC,UAAUJ,KAEtBF,KAAKX,KAAKY,wB,iCAIFC,GACT,OAAOH,MAAM,GAAD,OAAIV,KAAKC,KAAT,oBAAiC,CAC3Ca,OAAQ,QACRV,QAASJ,KAAKG,SACdY,KAAMC,KAAKC,UAAUJ,KAEtBF,KAAKX,KAAKY,wB,+BAIJM,GACP,OAAOR,MAAM,GAAD,OAAIV,KAAKC,KAAT,wBAA6BiB,GAAU,CACjDJ,OAAQ,MACRV,QAASJ,KAAKG,WAEfQ,KAAKX,KAAKY,wB,iCAIFM,GACT,OAAOR,MAAM,GAAD,OAAIV,KAAKC,KAAT,wBAA6BiB,GAAU,CACjDJ,OAAQ,SACRV,QAASJ,KAAKG,WAEfQ,KAAKX,KAAKY,wB,2CAGQM,EAAQC,GAC3B,OAAOA,EAAUnB,KAAKoB,SAASF,GAAUlB,KAAKqB,WAAWH,O,KAMjD,CAAS,CACnBhB,IAAK,8CACLE,QAAS,CACPkB,cAAe,uCACf,eAAgB,sBCjDLC,MA7Cf,YAAiE,IAAhD5B,EAA+C,EAA/CA,KAAM6B,EAAyC,EAAzCA,WAAYC,EAA6B,EAA7BA,YAAaC,EAAgB,EAAhBA,aAExC5C,EAAcJ,IAAMK,WAAWN,GAE/BkD,EAAQhC,EAAKiC,MAAMC,MAAQ/C,EAAY+C,IAEvCC,EAAyB,wBAAqBH,EAAQ,uBAAyB,IAE/ER,EAAUxB,EAAKoC,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEJ,MAAQ/C,EAAY+C,OACrDK,EAAuB,yBAAsBf,EAAU,wBAA0B,IAmBvF,OACE,qBAAI9C,UAAU,oBAAd,UACE,qBAAKA,UAAU,gBAAgBC,IAAKqB,EAAKC,KAAMpB,IAAKmB,EAAKR,KAAMH,QAlBnE,WACEyC,EAAY,CACV7B,KAAMD,EAAKC,KACXT,KAAMQ,EAAKR,UAgBX,sBAAKd,UAAU,sBAAf,UACE,oBAAIA,UAAU,kBAAd,SAAiCsB,EAAKR,OACtC,sBAAKd,UAAU,2BAAf,UACE,wBAAQe,KAAK,SAASf,UAAW6D,EAAyB5D,IAAI,sBAAsBE,IAAI,iKACxFQ,QAhBR,WACEwC,EAAW7B,MAgBL,mBAAGtB,UAAU,yBAAb,SAAuCsB,EAAKoC,MAAMI,eAGtD,wBAAQ/C,KAAK,SAASf,UAAWyD,EAA2BxD,IAAI,qBAAqBE,IAAI,gHACzFQ,QAjBJ,WACE0C,EAAa/B,UCXFyC,MAff,SAAuBvD,GAErB,OACE,qBAAKR,UAAS,qBAAgBQ,EAAMM,KAAtB,YAA8BN,EAAMwD,OAAS,eAAiB,IAA5E,SACE,sBAAKhE,UAAU,mBAAf,UACE,oBAAIA,UAAU,iBAAd,SAAgCQ,EAAMyD,QACtC,uBAAMjE,UAAU,kCAAkCkE,YAAU,EAACC,SAAU3D,EAAM2D,SAA7E,UAAyF3D,EAAM4D,SAC/F,wBAAQpE,UAAU,aAAae,KAAK,SAApC,SAA8CP,EAAM6D,cAEpD,wBAAQrE,UAAU,mBAAmBe,KAAK,SAASJ,QAASH,EAAMgB,gBCkE3D8C,MAxEf,SAA0B9D,GAAQ,IAAD,EAEPH,IAAMkE,SAAS,IAFR,mBAExBzD,EAFwB,KAElB0D,EAFkB,OAGOnE,IAAMkE,SAAS,IAHtB,mBAGxBE,EAHwB,KAGXC,EAHW,KAKzBjE,EAAcJ,IAAMK,WAAWN,GA0BrC,OARAC,IAAMsE,WAAU,WACVlE,IACJ+D,EAAQ/D,EAAYK,MACpB4D,EAAejE,EAAYQ,UAE1B,CAACR,IAIF,eAAC,EAAD,CAAeK,KAAK,UAClBmD,MAAM,4HACND,OAAQxD,EAAMwD,OACdxC,QAAShB,EAAMgB,QACf6C,SAAU7D,EAAM6D,SAChBF,SAtBJ,SAAsBS,GACpBA,EAAEC,iBACFrE,EAAMsE,aAAa,CACjBhE,OACAG,MAAOwD,KAaT,UAMI,uBACEM,GAAG,aACHhE,KAAK,OACLiE,YAAY,qBACZhF,UAAU,+BACViF,UAAU,IACVC,UAAU,KACVC,UAAQ,EACRC,MAAOtE,EACPuE,SAxCR,SAA0BT,GACxBJ,EAAQI,EAAEU,OAAOF,QAwCXtE,KAAK,SAEP,sBACEiE,GAAG,mBACH/E,UAAU,sBAEZ,uBACE+E,GAAG,mBACHhE,KAAK,OAAOiE,YAAY,kCACxBhF,UAAU,qCACViF,UAAU,IAAIC,UAAU,MACxBC,UAAQ,EACRC,MAAOX,EACPY,SAlDR,SAAiCT,GAC/BF,EAAeE,EAAEU,OAAOF,QAkDlBtE,KAAK,UAEP,sBACEiE,GAAG,yBACH/E,UAAU,0BChCLuF,MAnCf,YAAyE,IAA9CC,EAA6C,EAA7CA,eAAgBxB,EAA6B,EAA7BA,OAAQxC,EAAqB,EAArBA,QAAS6C,EAAY,EAAZA,SAEpDoB,EAAYpF,IAAMqF,SAUxB,OACE,eAAC,EAAD,CACE5E,KAAK,UACLmD,MAAM,wFACNI,SAAUA,EACVL,OAAQA,EACRxC,QAASA,EACT2C,SAfJ,SAAsBS,GACpBA,EAAEC,iBACFW,EAAe,CACb3E,OAAQ4E,EAAUE,QAAQP,SAM5B,UAOE,uBACEL,GAAG,aACHhE,KAAK,MACLiE,YAAY,qGACZhF,UAAU,+BACV4F,IAAKH,EACLN,UAAQ,IACV,sBACEJ,GAAG,mBACH/E,UAAU,0BCkBH6F,MA/Cf,YAAmE,IAA1C3E,EAAyC,EAAzCA,WAAY8C,EAA6B,EAA7BA,OAAQxC,EAAqB,EAArBA,QAAS6C,EAAY,EAAZA,SAE9CyB,EAAYzF,IAAMqF,SAClBK,EAAW1F,IAAMqF,SAWvB,OACE,eAAC,EAAD,CACE5E,KAAK,QACLmD,MAAM,gEACND,OAAQA,EACRxC,QAASA,EACT6C,SAAUA,EACVF,SAhBJ,SAAsBS,GACpBA,EAAEC,iBACF3D,EAAW,CACTJ,KAAMgF,EAAUH,QAAQP,MACxB7D,KAAMwE,EAASJ,QAAQP,SAMzB,UAOE,uBAAOL,GAAG,cACRhE,KAAK,OACLiE,YAAY,mDACZhF,UAAU,gCACViF,UAAU,IACVC,UAAU,KACVC,UAAQ,EACRS,IAAKE,IACP,sBAAMf,GAAG,oBACP/E,UAAU,sBAEZ,uBAAO+E,GAAG,aACRhE,KAAK,MACLiE,YAAY,qGACZhF,UAAU,+BACVmF,UAAQ,EACRS,IAAKG,IACP,sBACEhB,GAAG,mBACH/E,UAAU,0BC9BHgG,MAXf,WAEE,OACE,cAAC,EAAD,CACElF,KAAK,UACLmD,MAAM,2DACNI,SAAS,kBC+LA4B,MA3Lf,WAAgB,IAAD,EAE+C5F,IAAMkE,UAAS,GAF9D,mBAEN2B,EAFM,KAEkBC,EAFlB,OAG6C9F,IAAMkE,UAAS,GAH5D,mBAGN6B,EAHM,KAGiBC,EAHjB,OAIyChG,IAAMkE,UAAS,GAJxD,mBAIN+B,EAJM,KAIeC,EAJf,OAKalG,IAAMkE,SAAS,IAL5B,mBAKNpD,EALM,KAKCqF,EALD,OAM2BnG,IAAMkE,SAAS,IAN1C,mBAMNkC,EANM,KAMQC,EANR,OAOyBrG,IAAMkE,SAAS,IAPxC,mBAON9D,EAPM,KAOOkG,EAPP,OAQiBtG,IAAMkE,SAAS,0DARhC,mBAQNqC,EARM,KAQGC,EARH,OAS2BxG,IAAMkE,SAAS,8CAT1C,mBASNuC,EATM,KASQC,EATR,KAsDb,SAASC,IACPb,GAA0B,GAC1BE,GAAyB,GACzBE,GAAuB,GACvBG,EAAgB,IAGlB,SAASO,EAAgB3F,GACvBoF,EAAgB,CACdnF,KAAMD,EAAKC,KACXT,KAAMQ,EAAKR,OAIf,SAASoG,EAAe5F,GACtB,IAAMwB,EAAUxB,EAAKoC,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEJ,MAAQ/C,EAAY+C,OAE3D/B,EAAI0F,qBAAqB7F,EAAKkC,KAAMV,GACjCR,MAAK,SAAC8E,GACL,IAAMC,EAAWlG,EAAMmG,KAAI,SAACC,GAAD,OAAOA,EAAE/D,MAAQlC,EAAKkC,IAAM4D,EAAUG,KACjEf,EAASa,MAEVG,OAAM,SAACC,GACRC,QAAQC,IAAIF,MAKhB,SAASG,EAAiBtG,GACxBG,EAAIoG,WAAWvG,EAAKkC,KACjBlB,MAAK,WACJ,IAAM+E,EAAWlG,EAAM2G,QAAO,SAACP,GAAD,OAAOA,EAAE/D,MAAQlC,EAAKkC,OACpDgD,EAASa,MAEVG,OAAM,SAACC,GACNC,QAAQC,IAAIF,MAyClB,OAtHApH,IAAMsE,WAAU,WACdxC,QAAQ4F,IAAI,CACVtG,EAAIuG,cACJvG,EAAIwG,oBAEL3F,MAAK,YAA+B,IAAD,mBAA5B4F,EAA4B,KAAlBC,EAAkB,KAClCxB,EAAeuB,GACf1B,EAAS2B,MAEVX,OAAM,SAACC,GACNC,QAAQC,IAAIF,QAEb,IAGHpH,IAAMsE,WAAU,WAEd,SAASyD,EAAeC,GADZ,WAENA,EAAIC,KACNtB,IAIJ,OADAuB,SAASC,iBAAiB,QAASJ,GAC5B,kBAAMG,SAASE,oBAAoB,QAASL,MAClD,IA+FD,cAAChI,EAAmBsI,SAApB,CAA6BtD,MAAO3E,EAApC,SACA,sBAAKT,UAAU,OAAf,UACE,cAAC,EAAD,IAEA,cAAC,EAAD,CACEgB,cAjGN,WACEmF,GAA0B,GAC1BU,EAAW,2DAgGPjG,aA7FN,WACEyF,GAAyB,GACzBQ,EAAW,2DA4FP3F,WAzFN,WACEqF,GAAuB,GACvBQ,EAAgB,+CAwFZ4B,WAAYlI,EAAYI,OACxBC,KAAML,EAAYK,KAClBG,MAAOR,EAAYQ,MACnBE,MACEA,EAAMmG,KAAI,SAAChG,GACT,OACE,cAAC,EAAD,CAEEA,KAAMA,EACN8B,YAAa6D,EACb9D,WAAY+D,EACZ7D,aAAcuE,GAJTtG,EAAKkC,UAUpB,cAAC,EAAD,IAEA,cAAC,EAAD,CACEQ,OAAQkC,EACR1E,QAASwF,EACTlC,aApEN,SAA0BoD,GACxBrB,EAAW,mEACXpF,EAAImH,aAAaV,GACd5F,MAAK,SAACuG,GACLlC,EAAekC,GACf7B,OAEDQ,OAAM,SAACC,GACNC,QAAQC,IAAIF,OA6DZpD,SAAUuC,IAEZ,cAAC,EAAD,CACE5C,OAAQsC,EACR9E,QAASwF,EACT9F,WAlDN,SAA8BsB,GAC5BuE,EAAgB,mEAChBtF,EAAIqH,YAAYtG,GACbF,MAAK,SAAC8E,GACLZ,EAAS,CAACY,GAAF,mBAAcjG,KACtB6F,OAEDQ,OAAM,SAACC,GACNC,QAAQC,IAAIF,OA2CZpD,SAAUyC,IAEZ,cAAC,EAAD,CACExF,KAAMmF,EACNjF,QAASwF,IAEX,cAAC,EAAD,IAEA,cAAC,EAAD,CACEhD,OAAQoC,EACR5E,QAASwF,EACTxB,eA1EN,SAA4BhD,GAC1BqE,EAAW,mEACXpF,EAAIsH,WAAWvG,GACZF,MAAK,SAACzB,GACL8F,EAAe9F,GACfmG,OAEDQ,OAAM,SAACC,GACNC,QAAQC,IAAIF,OAmEZpD,SAAUuC,UCrLHoC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB5G,MAAK,YAAkD,IAA/C6G,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFnB,SAASoB,eAAe,SAM1BX,M","file":"static/js/main.9b28fd1c.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.c2821b38.svg\";","import logoPath from '../images/logo.svg';\n\nfunction Header() {\n  return (\n    <header className=\"header page__header\">\n      <img className=\"header__logo\" src={logoPath} alt=\"Лого Mesto\"/>\n    </header>\n  )\n}\n\nexport default Header;\n","import React from 'react'\n\nexport const CurrentUserContext = React.createContext();\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main>\n      <section\n        className=\"profile page__profile\">\n        <div className=\"profile__container\">\n          <div className=\"profile__avatar_overlay\" onClick={props.onEditAvatar} ></div>\n          <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"Изображение аватар\" />\n          <div className=\"profile__info\">\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\n            <button type=\"button\" className=\"profile__edit-button\" onClick={props.onEditProfile}></button>\n            <p className=\"profile__occupation\">{currentUser.about}</p>\n          </div>\n        </div>\n        <button type=\"button\" className=\"profile__add-button\" onClick={props.onAddPlace}></button>\n      </section>\n      <ul className=\"elements page__elements\">{props.cards}</ul>\n    </main>\n  )\n}\n\nexport default Main\n","function Footer() {\n  return (\n    <footer className=\"footer page__footer\">\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n    </footer>\n  )\n}\n\nexport default Footer;\n","function ImagePopup(props) {\n  return(\n    <div className={`popup-image ${props.card.link ? 'popup_opened' : ''}`} onClick={props.onClose} >\n      <div className=\"popup-image__container\">\n        <img className=\"popup-image__picture\" src={props.card.link} alt={props.card.name} />\n        <p className=\"popup-image__title\">{props.card.name}</p>\n        <button className=\"popup-image__close-btn popup__close-btn\" type=\"button\" onClick={props.onClose} ></button>\n      </div>\n    </div>\n  )\n}\n\nexport default ImagePopup\n","class Api {\n  constructor(config) {\n    this._url = config.url;\n    this._headers = config.headers;\n  }\n\n  _checkServerResponse(res) {\n    if (res.ok) {\n      return res.json()\n    }\n    return Promise.reject('Some error')\n  }\n\n\n  getInitialCards() {\n    return fetch(`${this._url}/cards`, {\n      headers: this._headers\n    })\n    .then(this._checkServerResponse);\n  }\n\n\n  saveNewCard(data) {\n    return fetch(`${this._url}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify(data)\n    })\n    .then(this._checkServerResponse);\n  }\n\n\n  deleteCard(cardId) {\n    return fetch(`${this._url}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers\n    })\n    .then(this._checkServerResponse);\n  }\n\n\n  getUserData() {\n    return fetch(`${this._url}/users/me`, {\n      headers: this._headers\n    })\n    .then(this._checkServerResponse);\n  }\n\n\n  saveUserData(data) {\n    return fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify(data)\n    })\n    .then(this._checkServerResponse);\n  }\n\n\n  saveAvatar(data) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify(data)\n    })\n    .then(this._checkServerResponse);\n  }\n\n\n  saveLike(cardId) {\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\n      method: 'PUT',\n      headers: this._headers,\n    })\n    .then(this._checkServerResponse);\n  }\n\n\n  deleteLike(cardId) {\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers,\n    })\n    .then(this._checkServerResponse);\n  }\n\n  changeLikeCardStatus(cardId, isLiked) {\n    return isLiked ? this.saveLike(cardId) : this.deleteLike(cardId);\n  }\n\n}\n\n\nconst api = new Api ({\n  url: 'https://mesto.nomoreparties.co/v1/cohort-17',\n  headers: {\n    authorization: 'd0f4e15e-5e8f-4105-8cb3-71e6a52f3645',\n    'content-type': 'application/json'\n  }\n});\n\nexport default api\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card( { card, onCardLike, onCardClick, onCardDelete }) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const isOwn = card.owner._id === currentUser._id;\n\n  const cardDeleteButtonClassName = (`elements__del ${isOwn ? 'elements__del_active' : ''}`);\n\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\n  const cardLikeButtonClassName = (`elements__like ${isLiked ? 'elements__like_active' : ''}`);\n\n\n  function handleClick() {\n    onCardClick({\n      link: card.link,\n      name: card.name\n    });\n  }\n\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n\n  function handleDeleteClick() {\n    onCardDelete(card);\n  }\n\n\n  return(\n    <li className=\"elements__element\">\n      <img className=\"elements__img\" src={card.link} alt={card.name} onClick={handleClick} />\n      <div className=\"elements__container\">\n        <h2 className=\"elements__title\">{card.name}</h2>\n        <div className=\"elements__like-container\">\n          <button type=\"button\" className={cardLikeButtonClassName} src=\"./images/Vector.svg\" alt=\"Изображение отметка Нравится\"\n          onClick={handleLikeClick} ></button>\n          <p className=\"elements__like-counter\">{card.likes.length}</p>\n        </div>\n      </div>\n      <button type=\"button\" className={cardDeleteButtonClassName} src=\"./images/Group.svg\" alt=\"Изображение удалить\"\n      onClick={handleDeleteClick} ></button>\n    </li>\n  )\n}\n\nexport default Card\n","\nfunction PopupWithForm(props) {\n\n  return(\n    <div className={`popup popup${props.name} ${props.isOpen ? 'popup_opened' : ''}`} >\n      <div className=\"popup__container\" >\n        <h2 className=\"popup__heading\">{props.title}</h2>\n        <form className=\"popup__form popup__form_profile\" noValidate onSubmit={props.onSubmit} >{props.children}\n        <button className=\"popup__btn\" type=\"submit\">{props.btnValue}</button>\n        </form>\n        <button className=\"popup__close-btn\" type=\"button\" onClick={props.onClose}></button>\n      </div>\n    </div>\n  )\n}\n\nexport default PopupWithForm\n\n/*\n«Редактировать профиль»\n«Новое место»\n«Обновить аватар»\n«Вы уверены?»\n*/\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup(props) {\n\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  function handleChangeName(e) {\n    setName(e.target.value);\n  }\n\n  function handleChangeDescription(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  React.useEffect(() => {\n    if (currentUser) {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n    }\n  }, [currentUser]);\n\n\n  return (\n    <PopupWithForm name=\"profile\"\n      title=\"Редактировать профиль\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      btnValue={props.btnValue}\n      onSubmit={handleSubmit} >\n        <input\n          id=\"input-name\"\n          type=\"text\"\n          placeholder=\"Имя\"\n          className=\"popup__text popup__text_name\"\n          minLength=\"2\"\n          maxLength=\"40\"\n          required\n          value={name}\n          onChange={handleChangeName}\n          name=\"name\"\n        />\n        <span\n          id=\"input-name-error\"\n          className=\"popup__text-error\">\n        </span>\n        <input\n          id=\"input-occupation\"\n          type=\"text\" placeholder=\"О себе\"\n          className=\"popup__text popup__text_occupation\"\n          minLength=\"2\" maxLength=\"200\"\n          required\n          value={description}\n          onChange={handleChangeDescription}\n          name=\"about\"\n        />\n        <span\n          id=\"input-occupation-error\"\n          className=\"popup__text-error\">\n        </span>\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\n\nfunction EditAvatarPopup({ onUpdateAvatar, isOpen, onClose, btnValue }) {\n\n  const inputLink = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateAvatar({\n      avatar: inputLink.current.value\n    });\n  }\n\n\n  return (\n    <PopupWithForm\n      name=\"-avatar\"\n      title=\"Обновить аватар\"\n      btnValue={btnValue}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit} >\n      <input\n        id=\"input-link\"\n        type=\"url\"\n        placeholder=\"Ссылка на картинку\"\n        className=\"popup__text popup__text_link\"\n        ref={inputLink}\n        required/>\n      <span\n        id=\"input-link-error\"\n        className=\"popup__text-error\">\n      </span>\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\n\nfunction AddPlacePopup({ onAddPlace, isOpen, onClose, btnValue }) {\n\n  const cardTitle = React.useRef();\n  const cardLink = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onAddPlace({\n      name: cardTitle.current.value,\n      link: cardLink.current.value\n    });\n  }\n\n\n  return (\n    <PopupWithForm\n      name=\"_card\"\n      title=\"Новое место\"\n      isOpen={isOpen}\n      onClose={onClose}\n      btnValue={btnValue}\n      onSubmit={handleSubmit} >\n      <input id=\"input-place\"\n        type=\"text\"\n        placeholder=\"Название\"\n        className=\"popup__text popup__text_place\"\n        minLength=\"1\"\n        maxLength=\"30\"\n        required\n        ref={cardTitle} />\n      <span id=\"input-place-error\"\n        className=\"popup__text-error\">\n      </span>\n      <input id=\"input-link\"\n        type=\"url\"\n        placeholder=\"Ссылка на картинку\"\n        className=\"popup__text popup__text_link\"\n        required\n        ref={cardLink} />\n      <span\n        id=\"input-link-error\"\n        className=\"popup__text-error\">\n      </span>\n    </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\n\nfunction ConfirmationPopup() {\n\n  return (\n    <PopupWithForm\n      name=\"-submit\"\n      title=\"Вы уверены?\"\n      btnValue=\"Да\" >\n    </PopupWithForm>\n  )\n}\n\nexport default ConfirmationPopup\n","import React from 'react';\nimport Header from './Header.js';\nimport Main from './Main.js';\nimport Footer from './Footer.js';\nimport ImagePopup from './ImagePopup.js';\nimport api from '../utils/api.js';\nimport Card from './Card.js';\nimport EditProfilePopup from './EditProfilePopup.js';\nimport EditAvatarPopup from './EditAvatarPopup.js';\nimport AddPlacePopup from './AddPlacePopup.js';\nimport ConfirmationPopup from './ConfirmationPopup.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nfunction App() {\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [cards, setCards] = React.useState([]);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [currentUser, setCurrentUser] = React.useState('');\n  const [loading, setLoading] = React.useState('Сохранить');\n  const [loadingPlace, setLoadingPlace] = React.useState('Создать');\n\n\n  React.useEffect(() => {\n    Promise.all([\n      api.getUserData(),\n      api.getInitialCards()\n    ])\n    .then(([userInfo, initialCards]) => {\n      setCurrentUser(userInfo);\n      setCards(initialCards)\n    })\n    .catch((err) => {\n      console.log(err);\n    })\n  }, [])\n\n\n  React.useEffect(() => {\n    const ESC = 'Escape';\n    function handleEscClose(evt) {\n      if (evt.key === ESC) {\n        closeAllPopups();\n      }\n    }\n    document.addEventListener('keyup', handleEscClose);\n    return () => document.removeEventListener('keyup', handleEscClose)\n  }, [])\n\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n    setLoading('Сохранить')\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n    setLoading('Сохранить')\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n    setLoadingPlace('Создать')\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setSelectedCard({})\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard({\n      link: card.link,\n      name: card.name\n    })\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    api.changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        setCards(newCards);\n    })\n      .catch((err) => {\n      console.log(err)\n      })\n\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id)\n      .then(()=>{\n        const newCards = cards.filter((c) => c._id !== card._id);\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(err)\n        })\n  }\n\n  function handleUpdateUser(userInfo) {\n    setLoading('Сохранение...');\n    api.saveUserData(userInfo)\n      .then((inputValues)=> {\n        setCurrentUser(inputValues);\n        closeAllPopups()\n      })\n      .catch((err) => {\n        console.log(err)\n        })\n  }\n\n  function handleUpdateAvatar(data) {\n    setLoading('Сохранение...');\n    api.saveAvatar(data)\n      .then((avatar)=> {\n        setCurrentUser(avatar);\n        closeAllPopups()\n      })\n      .catch((err) => {\n        console.log(err)\n        })\n  }\n\n  function handleAddPlaceSubmit(data) {\n    setLoadingPlace('Сохранение...')\n    api.saveNewCard(data)\n      .then((newCard)=> {\n        setCards([newCard, ...cards]);\n        closeAllPopups()\n      })\n      .catch((err) => {\n        console.log(err)\n        })\n  }\n\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n    <div className=\"page\">\n      <Header/>\n\n      <Main\n        onEditProfile={handleEditProfileClick}\n        onEditAvatar={handleEditAvatarClick}\n        onAddPlace={handleAddPlaceClick}\n        userAvatar={currentUser.avatar}\n        name={currentUser.name}\n        about={currentUser.about}\n        cards={\n          cards.map((card)=>{\n            return (\n              <Card\n                key={card._id}\n                card={card}\n                onCardClick={handleCardClick}\n                onCardLike={handleCardLike}\n                onCardDelete={handleCardDelete}\n              />\n            )\n          })\n        } />\n\n      <Footer/>\n\n      <EditProfilePopup\n        isOpen={isEditProfilePopupOpen}\n        onClose={closeAllPopups}\n        onUpdateUser={handleUpdateUser}\n        btnValue={loading} />\n\n      <AddPlacePopup\n        isOpen={isAddPlacePopupOpen}\n        onClose={closeAllPopups}\n        onAddPlace={handleAddPlaceSubmit}\n        btnValue={loadingPlace} />\n\n      <ImagePopup\n        card={selectedCard}\n        onClose={closeAllPopups} />\n\n      <ConfirmationPopup />\n\n      <EditAvatarPopup\n        isOpen={isEditAvatarPopupOpen}\n        onClose={closeAllPopups}\n        onUpdateAvatar={handleUpdateAvatar}\n        btnValue={loading} />\n\n    </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App.js';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}